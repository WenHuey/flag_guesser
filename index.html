<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flag Guess</title>

    <!-- Bootstrap core CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <link href="style.css" rel="stylesheet" />
  </head>

  <body class="text-white bg-dark">
    <main>
      <div class="container mt-4">
        <div class="grid-item grid-item-title">
          <h2>Guess the Flag!</h2>
        </div>

        <div class="grid-item grid-item-flag">
          <img id="flag" class="m-4" src="" />
        </div>

        <div class="grid-item grid-item-guess">
          <div class="grid-item grid-item-guess-box">
            <input
              type="text"
              list="countriesData"
              id="countries"
              name="countries"
              autocomplete="off"
            />
            <datalist id="countriesData">
              <!-- These are set in `countries.js` using populateOptions(); -->
            </datalist>
          </div>

          <div class="grid-item grid-item-guess-caption">
            <p id="guess-caption">
              Click from the drop-down list, or start typing.
            </p>
          </div>

          <div class="grid-item grid-item-guess-button">
            <button id="submit">Guess!</button>
          </div>
        </div>

        <div class="grid-item grid-item-score">
          <h3 id="score-correct">Correct: 0</h3>
          <h3 id="score-wrong">Current Streak: 0</h3>
        </div>

        <div class="grid-item grid-item-return-screen">
          <fieldset id="regionFS">
            <legend>Pick your Regions:</legend>
          </fieldset>
          <button id="return-to-start-modal">Return to Region Selection</button>
        </div>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>

    <script src="countries.js"></script>

    <script>
      // Init
      $(document).ready(function () {
        createUserRegions();
        updateUserFlags();
        createFlagRegionOptionCheckboxes();
        populateOptions();
        resetFlag();

        $("#submit").click(function () {
          submitGuess();
          refreshCountriesAndFlags();
          resetFlag();
        });
      });
    </script>
  </body>
</html>
